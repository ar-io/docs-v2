---
title: "Performance and Weights"
description: "Learn about how gateways are evaluated and how weights impact observer selection"
---

# Performance and Weights

## Gateway Classifications

Consider the following classifications:

- **Functional or Passed Gateways**: are gateways that meet or surpass the network's performance and quality standards.
- **Deficient or Failed Gateways**: are gateways that fall short of the network's performance expectations.
- **Functional or Submitted Observers**: are selected observers who diligently perform their duties and submit observation reports and contract interactions.
- **Deficient or Failed Observers**: are selected observers who do not fulfill their duty of submitting observation reports and contract interactions.

## Evaluation Process

At the end of an epoch, the AR.IO Smart Contract processes observer submissions to determine gateway performance through a consensus-based vote tallying system. This evaluation transforms individual observer reports into network-wide performance assessments.

### Vote Tallying and Gateway Classification

After observers submit their detailed reports (see [Reporting](/learn/oip/reporting) for submission details), the smart contract performs consensus calculation:

**Vote Processing:**
- **Data Collection**: All observer contract interactions for each gateway are collected
- **Vote Counting**: Each observer submission contributes either a PASS or FAIL vote
- **Majority Determination**: If â‰¥50% of submitted observer interactions indicate PASS, the gateway is considered Functional
- **Binary Classification**: Gateways are classified as either Functional (eligible for rewards) or Deficient (ineligible for rewards)

**Consensus Mechanism:**
- Multiple observers evaluate each gateway independently, ensuring reliable assessment
- The 50% threshold requires majority agreement for positive performance determination
- Binary scoring provides clear, unambiguous performance classification
- Vote tallying occurs after the 40-minute confirmation period to ensure all interactions are finalized

## Weight Impact on Gateway Performance

Gateway performance directly affects multiple weighted factors that influence future observer selection and overall network participation:

### Gateway Performance Ratio Weight (GPRW)
A gateway's evaluation results directly impact their Gateway Performance Ratio Weight, which affects their likelihood of being selected as an observer in future epochs:

```math
GPRW = \frac{1 + \text{Passed Epochs}}{1 + \text{Participated Epochs}}
```

**Impact:**
- **Functional Gateways**: Increase their passed epochs count, improving their GPRW
- **Deficient Gateways**: Decrease their GPRW as participated epochs increase without corresponding passes
- **Observer Selection**: Higher GPRW increases chances of being selected as an observer

### Observer Performance Ratio Weight (OPRW)
For gateways selected as observers, their performance in submitting reports affects future selection:

```math
OPRW = \frac{1 + \text{Submitted Epochs}}{1 + \text{Selected Epochs}}
```

**Impact:**
- **Functional Observers**: Who submit reports increase their OPRW
- **Deficient Observers**: Who fail to submit reports see their OPRW decrease
- **Future Selection**: Higher OPRW improves chances of future observer selection

### Composite Weight Calculation
All performance factors combine to determine overall network influence:

```math
CW = SW \times TW \times GPRW \times OPRW
```

Where:
- **SW** = Stake Weight (financial commitment)
- **TW** = Tenure Weight (network longevity)
- **GPRW** = Gateway Performance Ratio Weight
- **OPRW** = Observer Performance Ratio Weight

**Long-term Effects:**
- Consistently functional gateways accumulate higher composite weights
- Poor performers see diminishing influence and selection chances
- Performance history creates compounding effects on network participation

## Evaluation Timeline

Rewards are distributed **at the end of each epoch** by the AR.IO Smart Contract directly based on the tallied observer votes. The smart contract processes all observer submissions and automatically distributes rewards to functional gateways and observers based on their performance during the epoch.

## Key Features

- **Majority Rule**: Gateway performance is determined by majority vote from observers
- **Binary Scoring**: Simple pass/fail system for clear performance assessment
- **Network Confirmation**: Delay ensures all votes are confirmed before evaluation
- **Transparent Process**: All evaluations are based on onchain data

## Consequences of Performance

### Functional Gateways

- Eligible for gateway rewards
- Maintain good standing in the network
- Continue to be considered for observer selection

### Deficient Gateways

- Ineligible for gateway rewards
- Risk being marked as deficient for multiple epochs
- May face additional penalties for prolonged poor performance

### Observer Performance

- Functional observers receive observer rewards
- Deficient observers forfeit observer rewards
- Deficient observers who are also functional gateways have their gateway reward reduced by 25%


---

## Next Steps

Ready to understand how rewards are distributed? Learn about [Reward Distribution](/learn/oip/reward-distribution) to see the formulas and mechanics, or go back to [Observer Selection](/learn/oip/observer-selection) to review the selection process.
