---
title: "Architecture"
description: "Learn about the technical architecture of AR.IO gateways, their core dependencies, and key design decisions"
---

## Overview

AR.IO gateways are sophisticated data access layers built on top of the Arweave network. They transform the raw Arweave blockchain into a performant, reliable, and developer-friendly platform for storing and retrieving data. Gateways act as bridges between applications and the permanent storage capabilities of Arweave.

```mermaid
graph TB
    subgraph Gateway ["AR.IO Gateway"]
        ENVOY[Envoy Proxy<br/>Load Balancer & Routing]
        
        API[Core Service<br/>Gateway API]
        
        subgraph "Data Layer"
            DB1[(Chain Index<br/>SQLite)]
            DB2[(Bundle Index<br/>SQLite)]
            DB3[(Data Index<br/>SQLite)]
            DB4[(Config & Metadata<br/>SQLite)]
            REDIS[(Redis Cache<br/>High-Speed Layer)]
        end
        
        subgraph "Storage Layer"
            FS[File System Storage<br/>Local Cache]
            CLOUD[Remote Cloud Storage<br/>S3 Compatible]
        end
    end
    
    subgraph External ["External Network"]
        MEMPOOLS[Mempools<br/>Transaction Pool]
        ARWEAVE[(Arweave Nodes<br/>Blockchain Network)]
        MEMPOOLS --> ARWEAVE
    end

    ENVOY --> API

    API <--> DB1
    API <--> DB2
    API <--> DB3
    API <--> DB4
    API <--> REDIS
    
    API <--> FS
    API <--> CLOUD

    API <--> ARWEAVE
    API <--> MEMPOOLS

    classDef database fill:#3b82f6,stroke:#1d4ed8,stroke-width:2px,color:#fff
    classDef service fill:#10b981,stroke:#059669,stroke-width:2px,color:#fff
    classDef proxy fill:#f59e0b,stroke:#d97706,stroke-width:2px,color:#fff
    classDef external fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
    classDef storage fill:#ef4444,stroke:#dc2626,stroke-width:2px,color:#fff
    
    class DB1,DB2,DB3,DB4,REDIS database
    class API service
    class ENVOY proxy
    class ARWEAVE,MEMPOOLS external
    class FS,CLOUD storage
```

## Core Technology Stack

AR.IO gateways are built using modern, scalable technologies designed for high-performance data operations:

### Runtime and Language
- **Node.js**: The primary runtime environment for all gateway services
- **TypeScript**: Core services written with flexible interfaces for customization
- **Event-driven architecture**: Enables efficient handling of concurrent operations

### Data Storage
- **SQLite**: Four specialized databases handle different aspects of gateway operations:
  - Chain data indexing
  - Bundle transaction processing  
  - Data item management
  - Configuration and metadata
- **Redis**: High-speed caching layer for frequently accessed data
- **File system storage**: Local caching with configurable S3-compatible backends

### Processing Model
- **Worker-based concurrency**: Specialized workers handle different background tasks
- **Event-driven processing**: Loosely coupled components communicate via events
- **Streaming data handling**: Minimizes memory overhead for large data operations

## Key Architectural Decisions

Several important design decisions shape how AR.IO gateways operate:

### Data Retrieval Strategy
AR.IO gateways use a sophisticated **hierarchical fallback system** for data retrieval:

1. **Trusted gateways**: Prioritize data from verified, high-performance peers
2. **AR.IO network**: Leverage the broader network of AR.IO gateways  
3. **Chunks data items**: Reconstruct data from individual chunks when needed
4. **Transaction data**: Fall back to raw Arweave transaction data

This approach ensures data availability while optimizing for speed and reliability.

### Verification and Trust Model
- **Multi-level cryptographic verification**: Data integrity is verified at multiple points
- **Trust hierarchy**: Cached verified data → trusted cached data → network streams
- **Self-healing mechanisms**: Automatic recovery and re-verification of corrupted data
- **Verification headers**: HTTP headers indicate the verification status of returned data

### Worker Specialization
Different background workers handle specific responsibilities:

- **Block synchronization workers**: Keep the gateway synchronized with Arweave blocks
- **Bundle processing workers**: Handle Layer 2 bundled data items (ANS-104)
- **Data verification workers**: Continuously verify stored data integrity
- **Maintenance workers**: Perform cleanup and optimization tasks

## Scalability and Configuration

AR.IO gateways are designed to scale from small personal deployments to large enterprise installations:

### Modular Architecture
Gateway services can be independently configured or disabled based on operator needs:
- **Data serving**: Serve cached data to applications
- **Data indexing**: Index and process new Arweave data
- **Bundle processing**: Handle Layer 2 bundled transactions
- **ArNS routing**: Provide Arweave Name System resolution

## Core Philosophy: Builder Independence

A fundamental principle of AR.IO gateway architecture is **empowering builders to do the things they care about** without relying on any centralized resource to leverage Arweave. This philosophy manifests in several key ways:

### Extensibility Through Modularity
Gateways are designed as extensible platforms that operators can customize through **[Extensions](/build/extensions/)**, sidecar services, and plugin architectures for specialized functionality.

### Data Sovereignty
Operators maintain complete control through **[Data Retrieval](/learn/gateways/data-retrieval)** strategies and **[Data Verification](/learn/gateways/data-verification)** systems that ensure independence from trusted intermediaries.

### Network Resilience
The modular design creates a resilient ecosystem where distributed infrastructure and customizable trust models prevent single points of failure.

This architecture ensures that builders can create powerful applications on Arweave while maintaining independence from any centralized infrastructure or service provider.


