export const metadata = {
  title: 'buyRecord',
  description: 'buyRecord is a method on the ARIO class that purchases a new ArNS record with the specified name, type, processId, and duration.',
}

# buyRecord

`buyRecord` is a method on the `ARIO` class that purchases a new ArNS record with the specified name, type, processId, and duration.


## Parameters

<Table>
  <Table.Head>
    <Table.Row>
      <Table.Header>Parameter</Table.Header>
      <Table.Header>Type</Table.Header>
      <Table.Header>Description</Table.Header>
      <Table.Header>Optional</Table.Header>
    </Table.Row>
  </Table.Head>
  <Table.Body>
    <Table.Row>
      <Table.Cell className="font-semibold">name</Table.Cell>
      <Table.Cell>string</Table.Cell>
      <Table.Cell>The ArNS name to purchase</Table.Cell>
      <Table.Cell>false</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">type</Table.Cell>
      <Table.Cell>string</Table.Cell>
      <Table.Cell>The type of record: 'lease' or 'permabuy'</Table.Cell>
      <Table.Cell>false</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">years</Table.Cell>
      <Table.Cell>number</Table.Cell>
      <Table.Cell>
        The number of years to lease (for lease type) or purchase permanently
        (for permabuy type)
      </Table.Cell>
      <Table.Cell>false</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">processId</Table.Cell>
      <Table.Cell>string</Table.Cell>
      <Table.Cell>
        The process id of an existing ANT process. If not provided, a new ANT
        process using the provided signer will be spawned, and the ArNS record
        will be assigned to that process.
      </Table.Cell>
      <Table.Cell>true</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">referrer</Table.Cell>
      <Table.Cell>string</Table.Cell>
      <Table.Cell>
        Track purchase referrals for analytics (e.g. my-app.com)
      </Table.Cell>
      <Table.Cell>true</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">tags</Table.Cell>
      <Table.Cell>array</Table.Cell>
      <Table.Cell>
        An array of GQL tag objects to attach to the buyRecord AO message
      </Table.Cell>
      <Table.Cell>true</Table.Cell>
    </Table.Row>
  </Table.Body>
</Table>

## Examples

<CodeGroup title="buyRecord">

```typescript {{title: "NodeJS"}}
const fs = require('fs')
const { ARIO, ArweaveSigner } = require('@ar.io/sdk')

async function main() {
  const jwk = JSON.parse(fs.readFileSync('KeyFile.json'))
  const signer = new ArweaveSigner(jwk)
  const ario = ARIO.mainnet({ signer })
  const record = await ario.buyRecord(
    {
      name: 'ardrive',
      type: 'lease',
      years: 1,
      referrer: 'my-app.com', // optional: track purchase referrals for analytics
    },
    {
      // optional tags
      tags: [{ name: 'App-Name', value: 'ArNS-App' }],
      onSigningProgress: (step, event) => {
        console.log(`Signing progress: ${step}`)
        if (step === 'spawning-ant') {
          console.log('Spawning ant:', event)
        }
        if (step === 'registering-ant') {
          console.log('Registering ant:', event)
        }
        if (step === 'verifying-state') {
          console.log('Verifying state:', event)
        }
        if (step === 'buying-name') {
          console.log('Buying name:', event)
        }
      },
    },
  )
}

main()
```

```typescript {{ title: 'Web' }}
import { ARIO, ArConnectSigner } from '@ar.io/sdk/web'

async function main() {
  // Connect to wallet
  await window.arweaveWallet.connect([
    'ACCESS_ADDRESS',
    'ACCESS_ALL_ADDRESSES',
    'ACCESS_PUBLIC_KEY',
    'SIGN_TRANSACTION',
    'ACCESS_ARWEAVE_CONFIG',
    'SIGNATURE',
  ])

  const ario = ARIO.init({
    signer: new ArConnectSigner(window.arweaveWallet),
  })

 const record = await ario.buyRecord(
    {
      name: 'ardrive',
      type: 'lease',
      years: 1,
      referrer: 'my-app.com', // optional: track purchase referrals for analytics
    },
    {
      // optional tags
      tags: [{ name: 'App-Name', value: 'ArNS-App' }],
      onSigningProgress: (step, event) => {
        console.log(`Signing progress: ${step}`)
        if (step === 'spawning-ant') {
          console.log('Spawning ant:', event)
        }
        if (step === 'registering-ant') {
          console.log('Registering ant:', event)
        }
        if (step === 'verifying-state') {
          console.log('Verifying state:', event)
        }
        if (step === 'buying-name') {
          console.log('Buying name:', event)
        }
      },
    },
  )
}

main()
```

```typescript {{title: "With Existing ANT Process"}}
const fs = require('fs')
const { ARIO, ArweaveSigner } = require('@ar.io/sdk')

async function main() {
  const jwk = JSON.parse(fs.readFileSync('KeyFile.json'))
  const signer = new ArweaveSigner(jwk)
  const ario = ARIO.mainnet({ signer })
  const record = await ario.buyRecord(
    {
      name: 'ardrive',
      type: 'lease',
      processId: 'bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM', // optional: assign to existing ANT process
      years: 1,
      referrer: 'my-app.com', // optional: track purchase referrals for analytics
    },
    {
      // optional tags
      tags: [{ name: 'App-Name', value: 'ArNS-App' }],
      onSigningProgress: (step, event) => {
        console.log(`Signing progress: ${step}`)
        if (step === 'spawning-ant') {
          console.log('Spawning ant:', event)
        }
        if (step === 'registering-ant') {
          console.log('Registering ant:', event)
        }
        if (step === 'verifying-state') {
          console.log('Verifying state:', event)
        }
        if (step === 'buying-name') {
          console.log('Buying name:', event)
        }
      },
    },
  )
}

main()
```


</CodeGroup>



## Manual ANT Creation

If you prefer to manually create an ANT during the purchase process, see the [manual ANT creation workflow](/ar-io-sdk/ario/arns/buy-record-manual).


