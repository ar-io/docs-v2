export const metadata = {
  title: 'buyRecord',
  description:
    'buyRecord is a method on the ARIO class that purchases a new ArNS record with the specified name, type, processId, and duration.',
}

# buyRecord

`buyRecord` is a method on the `ARIO` class that purchases a new ArNS record with the specified name, type, processId, and duration.



## Examples

<CodeGroup title="buyRecord">

```typescript {{title: "Basic"}}
const record = await ario.buyRecord({
  name: 'ardrive',
  type: 'lease',
  years: 1,
})
```

```typescript {{title: "NodeJS"}}
const fs = require('fs')
const { ARIO, ArweaveSigner } = require('@ar.io/sdk')

async function main() {
  const jwk = JSON.parse(fs.readFileSync('KeyFile.json'))
  const signer = new ArweaveSigner(jwk)
  const ario = ARIO.mainnet({ signer })
  const record = await ario.buyRecord(
    {
      name: 'ardrive',
      type: 'lease',
      years: 1,
      referrer: 'my-app.com', // optional: track purchase referrals for analytics
    },
    {
      // optional tags
      tags: [{ name: 'App-Name', value: 'ArNS-App' }],
      onSigningProgress: (step, event) => {
        console.log(`Signing progress: ${step}`)
        if (step === 'spawning-ant') {
          console.log('Spawning ant:', event)
        }
        if (step === 'registering-ant') {
          console.log('Registering ant:', event)
        }
        if (step === 'verifying-state') {
          console.log('Verifying state:', event)
        }
        if (step === 'buying-name') {
          console.log('Buying name:', event)
        }
      },
    },
  )
}

main()
```

```typescript {{ title: 'Web' }}
import { ARIO, ArConnectSigner } from '@ar.io/sdk/web'

async function main() {
  // Connect to wallet
  await window.arweaveWallet.connect([
    'ACCESS_ADDRESS',
    'ACCESS_ALL_ADDRESSES',
    'ACCESS_PUBLIC_KEY',
    'SIGN_TRANSACTION',
    'ACCESS_ARWEAVE_CONFIG',
    'SIGNATURE',
  ])

  const ario = ARIO.init({
    signer: new ArConnectSigner(window.arweaveWallet),
  })

  const record = await ario.buyRecord(
    {
      name: 'ardrive',
      type: 'lease',
      years: 1,
      referrer: 'my-app.com', // optional: track purchase referrals for analytics
    },
    {
      // optional tags
      tags: [{ name: 'App-Name', value: 'ArNS-App' }],
      onSigningProgress: (step, event) => {
        console.log(`Signing progress: ${step}`)
        if (step === 'spawning-ant') {
          console.log('Spawning ant:', event)
        }
        if (step === 'registering-ant') {
          console.log('Registering ant:', event)
        }
        if (step === 'verifying-state') {
          console.log('Verifying state:', event)
        }
        if (step === 'buying-name') {
          console.log('Buying name:', event)
        }
      },
    },
  )
}

main()
```

```typescript {{title: "With Existing ANT Process"}}
const fs = require('fs')
const { ARIO, ArweaveSigner } = require('@ar.io/sdk')

async function main() {
  const jwk = JSON.parse(fs.readFileSync('KeyFile.json'))
  const signer = new ArweaveSigner(jwk)
  const ario = ARIO.mainnet({ signer })
  const record = await ario.buyRecord(
    {
      name: 'ardrive',
      type: 'lease',
      processId: 'bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM', // optional: assign to existing ANT process
      years: 1,
      referrer: 'my-app.com', // optional: track purchase referrals for analytics
    },
    {
      // optional tags
      tags: [{ name: 'App-Name', value: 'ArNS-App' }],
      onSigningProgress: (step, event) => {
        console.log(`Signing progress: ${step}`)
        if (step === 'spawning-ant') {
          console.log('Spawning ant:', event)
        }
        if (step === 'registering-ant') {
          console.log('Registering ant:', event)
        }
        if (step === 'verifying-state') {
          console.log('Verifying state:', event)
        }
        if (step === 'buying-name') {
          console.log('Buying name:', event)
        }
      },
    },
  )
}

main()
```

</CodeGroup>

## Parameters

{

<div style={{ textAlign: 'center' }}>
  <table className="inline-table">
    <thead>
      <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>name</th>
        <td>string</td>
        <td>The ArNS name to purchase</td>
        <td>false</td>
      </tr>
      <tr>
        <th>type</th>
        <td>string</td>
        <td>The type of record: 'lease' or 'permabuy'</td>
        <td>false</td>
      </tr>
      <tr>
        <th>years</th>
        <td>number</td>
        <td>
          The number of years to lease (for lease type) or purchase permanently
          (for permabuy type)
        </td>
        <td>false</td>
      </tr>
      <tr>
        <th>processId</th>
        <td>string</td>
        <td>
          The process id of an existing ANT process. If not provided, a new ANT
          process using the provided signer will be spawned, and the ArNS record
          will be assigned to that process.
        </td>
        <td>true</td>
      </tr>
      <tr>
        <th>referrer</th>
        <td>string</td>
        <td>Track purchase referrals for analytics (e.g. my-app.com)</td>
        <td>true</td>
      </tr>
      <tr>
        <th>tags</th>
        <td>array</td>
        <td>
          An array of GQL tag objects to attach to the buyRecord AO message
        </td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>
}

## Manual ANT Creation

If you prefer to manually create an ANT during the purchase process, see the [manual ANT creation workflow](/ar-io-sdk/ario/arns/buy-record-manual).
