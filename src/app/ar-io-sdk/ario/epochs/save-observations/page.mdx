import { CodeGroup } from '@/components/Code'

export const metadata = {
  title: 'saveObservations',
  description: 'Submit gateway observations for the current epoch',
  openGraph: {
    title: 'saveObservations',
  },
}

# saveObservations

`saveObservations` is a method on the `ARIO` class that submits gateway observations for the current epoch. This method is used by observers to report their assessment of gateway performance and any failed gateways they identified during their evaluation.

`saveObservations` requires authentication.

## Examples

<CodeGroup title="saveObservations">

    ```typescript {{title: "Basic"}}
    const { id: txId } = await ario.saveObservations({
        reportTxId: 'B6UUjKWjjEWDBvDSMXWNmymfwvgR9EN27z5FTkEVlX4',
        failedGateways: [
            't4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3',
            'QGWqtJdLLgm2ehFWiiPzMaoFLD50CnGuzZIPEdoDRGQ'
        ]
    });
    ```

       ```typescript {{title: "NodeJS"}}
        const fs = require("fs");
        const { ARIO, ArweaveSigner } = require("@ar.io/sdk");

        async function main() {
        const jwk = JSON.parse(fs.readFileSync("KeyFile.json"));
        const ario = ARIO.init({
            signer: new ArweaveSigner(jwk),
        });

        const { id: txId } = await ario.saveObservations(
            {
                reportTxId: 'B6UUjKWjjEWDBvDSMXWNmymfwvgR9EN27z5FTkEVlX4',
                failedGateways: [
                    't4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3',
                    'QGWqtJdLLgm2ehFWiiPzMaoFLD50CnGuzZIPEdoDRGQ'
                ]
            },
            // optional additional tags
            { tags: [{ name: 'App-Name', value: 'Observer-Report' }] }
        );

        console.log('Observation submitted:', txId);
        }

        main();

    ```

    ```typescript {{ title: 'Web' }}
    import { ARIO, ArConnectSigner } from '@ar.io/sdk/web';

    async function main() {
        const ario = ARIO.init({
            signer: new ArConnectSigner(window.arweaveWallet)
        });

        const { id: txId } = await ario.saveObservations(
            {
                reportTxId: 'B6UUjKWjjEWDBvDSMXWNmymfwvgR9EN27z5FTkEVlX4',
                failedGateways: [
                    't4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3',
                    'QGWqtJdLLgm2ehFWiiPzMaoFLD50CnGuzZIPEdoDRGQ'
                ]
            },
            // optional additional tags
            { tags: [{ name: 'App-Name', value: 'Observer-Report' }] }
        );

        console.log('Observation submitted:', txId);
    }

    main();
    ```

</CodeGroup>

## Parameters

<Table>
  <Table.Head>
    <Table.Row>
      <Table.Header>Parameter</Table.Header>
      <Table.Header>Type</Table.Header>
      <Table.Header>Description</Table.Header>
      <Table.Header>Optional</Table.Header>
    </Table.Row>
  </Table.Head>
  <Table.Body>
    <Table.Row>
      <Table.Cell className="font-semibold">reportTxId</Table.Cell>
      <Table.Cell>string</Table.Cell>
      <Table.Cell>
        The Arweave transaction ID containing the detailed observation data
      </Table.Cell>
      <Table.Cell>false</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">failedGateways</Table.Cell>
      <Table.Cell>array</Table.Cell>
      <Table.Cell>
        An array of wallet addresses for gateways that failed the assessment
      </Table.Cell>
      <Table.Cell>false</Table.Cell>
    </Table.Row>
    <Table.Row>
      <Table.Cell className="font-semibold">tags</Table.Cell>
      <Table.Cell>array</Table.Cell>
      <Table.Cell>
        An array of GQL tag objects to attach to the transfer AO message
      </Table.Cell>
      <Table.Cell>true</Table.Cell>
    </Table.Row>
  </Table.Body>
</Table>

## Output

```js
{
  "id": "7tKsiQ2fxv0D8ZVN_QEv29fZ8hwFIgHoEDrpeEG0DIs"
}
```
