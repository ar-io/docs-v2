import { CodeGroup } from '@/components/Code'
import { HeroPattern } from '@/components/HeroPattern'

<HeroPattern />

# Configuration

Wayfinder is a client-side routing and verification solution for Arweave content. It enables applications to retrieve data through decentralized gateways while ensuring integrity through cryptographic verification.

## Constructor Parameters

{

<div style={{ textAlign: 'center' }}>
  <table className="inline-table">
    <thead>
      <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Description</th>
        <th>Optional</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>gatewaysProvider</th>
        <td>GatewaysProvider</td>
        <td>
          Provider responsible for supplying a list of gateways to Wayfinder
        </td>
        <td>true</td>
      </tr>
      <tr>
        <th>routingStrategy</th>
        <td>RoutingStrategy</td>
        <td>Strategy for selecting target gateways for requests</td>
        <td>true</td>
      </tr>
      <tr>
        <th>verificationStrategy</th>
        <td>VerificationStrategy</td>
        <td>Strategy for verifying the integrity of retrieved data</td>
        <td>true</td>
      </tr>
      <tr>
        <th>events</th>
        <td>WayfinderEvents</td>
        <td>Event handlers for monitoring routing and verification process</td>
        <td>true</td>
      </tr>
      <tr>
        <th>httpClient</th>
        <td>HTTPClient</td>
        <td>
          Custom HTTP client for making requests (defaults to native fetch)
        </td>
        <td>true</td>
      </tr>
    </tbody>
  </table>
</div>
}

## Examples

<CodeGroup title="Configuration">
    ```typescript {{title: "Basic Usage"}}
    import { Wayfinder } from '@ar.io/sdk';

    // Create a new Wayfinder instance with default settings
    const wayfinder = new Wayfinder();
    ```

    ```typescript {{title: "Custom Configuration"}}
    import {
      Wayfinder,
      NetworkGatewaysProvider,
      FastestPingRoutingStrategy,
      HashVerificationStrategy,
      StaticGatewaysProvider,
      TrustedGatewaysHashProvider
    } from '@ar.io/sdk';

    const wayfinder = new Wayfinder({
      // Cache top 10 gateways by operator stake for 1 hour
      gatewaysProvider: new NetworkGatewaysProvider({
        sortBy: 'operatorStake',
        sortOrder: 'desc',
        limit: 10,
      }),

      // Use fastest pinging strategy
      routingStrategy: new FastestPingRoutingStrategy({
        timeoutMs: 1000,
        probePath: '/ar-io/info',
      }),

      // Verify data using hash comparison
      verificationStrategy: new HashVerificationStrategy({
        trustedHashProvider: new TrustedGatewaysHashProvider({
          gatewaysProvider: new StaticGatewaysProvider({
            gateways: ['https://arweave.net'],
          }),
        }),
      }),
    });
    ```

    ```typescript {{title: "With Event Monitoring"}}
    import { Wayfinder } from '@ar.io/sdk';

    const wayfinder = new Wayfinder({
      events: {
        onVerificationPassed: (event) => {
          console.log(`Verification passed for transaction: ${event.txId}`);
        },
        onVerificationFailed: (event) => {
          console.error(`Verification failed for transaction: ${event.txId}`, event.error);
        },
        onVerificationProgress: (event) => {
          const percentage = (event.processedBytes / event.totalBytes) * 100;
          console.log(`Verification progress: ${percentage.toFixed(2)}%`);
        },
      },
    });
    ```

    ```typescript {{title: "Custom HTTP Client"}}
    import { Wayfinder } from '@ar.io/sdk';
    import axios from 'axios';

    const axiosInstance = axios.create({
      timeout: 10000,
    });

    const wayfinder = new Wayfinder({
      httpClient: axiosInstance,
    });
    ```

</CodeGroup>
