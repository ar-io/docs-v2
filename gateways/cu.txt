1:"$Sreact.fragment"
2:I[60881,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","3758","static/chunks/3758-69daa9d9751a2510.js","7066","static/chunks/7066-9ea237f8271c6a3e.js","7948","static/chunks/7948-bc1a3f31d95d4752.js","7177","static/chunks/app/layout-b825f93bc4501ddc.js"],"Providers"]
3:I[30895,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","3758","static/chunks/3758-69daa9d9751a2510.js","7066","static/chunks/7066-9ea237f8271c6a3e.js","7948","static/chunks/7948-bc1a3f31d95d4752.js","7177","static/chunks/app/layout-b825f93bc4501ddc.js"],"Layout"]
4:I[87555,[],""]
5:I[31295,[],""]
6:I[30122,["3975","static/chunks/3975-65073ecd7686b488.js","4345","static/chunks/app/not-found-28cf6d37da7270ee.js"],"default"]
7:I[87254,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","6493","static/chunks/6493-a59dcbabb32c712c.js","465","static/chunks/465-0fbb9cc11ad8feb4.js","5685","static/chunks/app/gateways/cu/page-b039d668b9edc05e.js"],"Heading"]
8:I[60445,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","6493","static/chunks/6493-a59dcbabb32c712c.js","465","static/chunks/465-0fbb9cc11ad8feb4.js","5685","static/chunks/app/gateways/cu/page-b039d668b9edc05e.js"],"default"]
9:I[81571,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","6493","static/chunks/6493-a59dcbabb32c712c.js","465","static/chunks/465-0fbb9cc11ad8feb4.js","5685","static/chunks/app/gateways/cu/page-b039d668b9edc05e.js"],"Pre"]
a:I[81571,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","6493","static/chunks/6493-a59dcbabb32c712c.js","465","static/chunks/465-0fbb9cc11ad8feb4.js","5685","static/chunks/app/gateways/cu/page-b039d668b9edc05e.js"],"Code"]
b:I[73019,["9268","static/chunks/aaea2bcf-432631bb317559fe.js","3975","static/chunks/3975-65073ecd7686b488.js","5227","static/chunks/5227-c718075fe01526db.js","6493","static/chunks/6493-a59dcbabb32c712c.js","465","static/chunks/465-0fbb9cc11ad8feb4.js","5685","static/chunks/app/gateways/cu/page-b039d668b9edc05e.js"],"Feedback"]
c:I[59665,[],"OutletBoundary"]
f:I[74911,[],"AsyncMetadataOutlet"]
11:I[59665,[],"ViewportBoundary"]
13:I[59665,[],"MetadataBoundary"]
15:I[26614,[],""]
:HL["/docs-v2/_next/static/css/af2d6aec183849c2.css","style"]
0:{"P":null,"b":"ju0DZki98M8q3H26MrSOM","p":"/docs-v2","c":["","gateways","cu"],"i":false,"f":[[["",{"children":["gateways",{"children":["cu",{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/docs-v2/_next/static/css/af2d6aec183849c2.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","className":"h-full","suppressHydrationWarning":true,"children":["$","body",null,{"className":"flex min-h-full bg-white antialiased dark:bg-zinc-900","children":["$","$L2",null,{"children":["$","$L3",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","$L6",null,{}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]}]]}],{"children":["gateways",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["cu",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[["$","article",null,{"className":"flex h-full w-full flex-col pb-10 pt-16","children":[["$","div",null,{"className":"flex-auto prose w-full dark:prose-invert","children":[["$","h1",null,{"children":"AO Compute Unit (CU)"}],"\n",["$","$L7",null,{"level":2,"id":"overview","children":"Overview"}],"\n",["$","p",null,{"children":"An AO Compute Unit (CU) is a critical component in the AO ecosystem responsible for executing AO processes and maintaining their state. CUs serve as the computational backbone of the AO network by:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"Processing Messages"}],": CUs receive and process messages sent to AO processes"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Executing WASM Modules"}],": CUs run the WebAssembly (WASM) code that defines process behavior"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Maintaining State"}],": CUs track and update the state of AO processes"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Creating Checkpoints"}],": CUs periodically save process state to the Arweave network as checkpoints"]}],"\n"]}],"\n",["$","p",null,{"children":"Running a CU alongside your gateway allows you to:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Process AO requests locally rather than relying on external services"}],"\n",["$","li",null,{"children":"Improve response times for AO-related queries"}],"\n",["$","li",null,{"children":"Contribute computational resources to the AO network"}],"\n",["$","li",null,{"children":"Ensure your gateway has reliable access to AO functionality"}],"\n"]}],"\n",["$","p",null,{"children":["For more detailed information about Compute Units, please refer to the ",["$","$L8",null,{"href":"https://cookbook_ao.arweave.net/concepts/units.html#summary","children":"AO Cookbook: Units"}],"."]}],"\n",["$","$L7",null,{"level":2,"id":"system-requirements","children":"System Requirements"}],"\n",["$","p",null,{"children":"Before deploying a CU, ensure your system meets the following requirements:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"Recommended"}],": At least 16GB RAM for optimal CU operation"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Minimum"}],": 4GB RAM is possible with adjusted memory limits (see resource allocation settings)"]}],"\n",["$","li",null,{"children":"At least 100GB disk space dedicated to CU operation"}],"\n",["$","li",null,{"children":"These requirements are separate from your gateway requirements"}],"\n"]}],"\n",["$","div",null,{"className":"my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]","children":[["$","svg",null,{"viewBox":"0 0 16 16","aria-hidden":"true","className":"mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200","children":[["$","circle",null,{"cx":"8","cy":"8","r":"8","strokeWidth":"0"}],["$","path",null,{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"1.5","d":"M6.75 7.75h1.5v3.5"}],["$","circle",null,{"cx":"8","cy":"4","r":".5","fill":"none"}]]}],["$","div",null,{"className":"[&>:first-child]:mt-0 [&>:last-child]:mb-0","children":["$","p",null,{"children":"Running a CU is resource-intensive. Make sure your system has sufficient resources to handle both the gateway and the CU. While you can run a CU with less than the recommended RAM, you'll need to adjust the memory limits accordingly."}]}]]}],"\n",["$","$L7",null,{"level":2,"id":"deploying-an-ao-cu","children":"Deploying an AO CU"}],"\n",["$","h3",null,{"children":"Step 1: Navigate to Gateway Directory"}],"\n",["$","p",null,{"children":"First, navigate to the root directory of your gateway:"}],"\n",["$","$L9",null,{"language":"bash","code":"cd /path/to/your/gateway\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">cd</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/path/to/your/gateway</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"children":"Step 2: Configure Environment Variables"}],"\n",["$","p",null,{"children":"Copy the example environment file:"}],"\n",["$","$L9",null,{"language":"bash","code":"cp .env.ao.example .env.ao\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">cp</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env.ao.example</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env.ao</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"children":"Default .env.ao.example Contents"}],"\n",["$","p",null,{"language":"txt","children":["The default ",["$","$La",null,{"children":".env.ao.example"}]," file contains the following settings:"]}],"\n",["$","$L9",null,{"language":"txt","code":"CU_WALLET='[wallet json here]'\nPROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY\nGATEWAY_URL=http://envoy:3000\nUPLOADER_URL=http://envoy:3000/bundler\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">CU_WALLET=&#39;[wallet json here]&#39;</span></span>\n<span><span style=\"color: undefined\">PROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY</span></span>\n<span><span style=\"color: undefined\">GATEWAY_URL=http://envoy:3000</span></span>\n<span><span style=\"color: undefined\">UPLOADER_URL=http://envoy:3000/bundler</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","p",null,{"children":"These default settings are configured to work with a gateway running on the same machine, but you'll need to modify them as described below."}],"\n",["$","p",null,{"language":"txt","children":["Open the ",["$","$La",null,{"children":".env.ao"}]," file in your preferred text editor:"]}],"\n",["$","$L9",null,{"language":"bash","code":"nano .env.ao\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">nano</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env.ao</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"Configure the following settings:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"language":"txt","children":[["$","strong",null,{"children":"CU_WALLET"}],": Replace ",["$","$La",null,{"children":"'[wallet json here]'"}]," with the JSON from an Arweave wallet."]}],"\n",["$","div",null,{"className":"border-l-4 border-orange-500 bg-gray-800 text-white p-4 rounded-md","children":[["$","div",null,{"className":"font-semibold text-lg text-orange-300 mb-2","children":"$undefined"}],["$","div",null,{"className":"text-sm","children":["$","p",null,{"children":"The entire JSON must be placed on a single line for proper registration."}]}]]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"PROCESS_CHECKPOINT_TRUSTED_OWNERS"}],": This is a comma-separated list of trusted wallet addresses:"]}],"\n",["$","$L9",null,{"language":"txt","code":"PROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">PROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","div",null,{"className":"border-l-4 border-orange-500 bg-gray-800 text-white p-4 rounded-md","children":[["$","div",null,{"className":"font-semibold text-lg text-orange-300 mb-2","children":"Adding Your Own Wallet"}],["$","div",null,{"className":"text-sm","children":[["$","p",null,{"children":"If you are uploading your own checkpoints, you should add your own CU wallet address after the default value, separated by a comma:"}],["$","$L9",null,{"language":"txt","code":"PROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY,YOUR_WALLET_ADDRESS_HERE\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">PROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY,YOUR_WALLET_ADDRESS_HERE</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],["$","p",null,{"children":"This allows your CU to trust checkpoints from both the official source and your own wallet."}]]}]]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"GATEWAY_URL"}],": By default, this is set to use your own gateway:"]}],"\n",["$","$L9",null,{"language":"txt","code":"GATEWAY_URL=http://envoy:3000\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">GATEWAY_URL=http://envoy:3000</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","p",null,{"children":"A gateway must be set to index all ANS-104 data items from AO or the CU will not operate properly. Most users will want to set this to:"}],"\n",["$","$L9",null,{"language":"txt","code":"GATEWAY_URL=https://arweave.net\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">GATEWAY_URL=https://arweave.net</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"UPLOADER_URL"}],": By default, this is set to use a bundler sidecar run by your gateway:"]}],"\n",["$","$L9",null,{"language":"txt","code":"UPLOADER_URL=http://envoy:3000/bundler\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">UPLOADER_URL=http://envoy:3000/bundler</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","div",null,{"className":"border-l-4 border-orange-500 bg-gray-800 text-white p-4 rounded-md","children":[["$","div",null,{"className":"font-semibold text-lg text-orange-300 mb-2","children":"Important: Checkpoint Uploads Require Payment"}],["$","div",null,{"className":"text-sm","children":[["$","p",null,{"children":"Checkpoints are uploaded to Arweave, so the upload must be paid for. You must ensure your wallet has sufficient funds:"}],["$","ul",null,{"children":["\n",["$","li",null,{"language":"txt","children":["If using ",["$","$La",null,{"children":"https://up.arweave.net"}]," (recommended), your CU_WALLET must contain Turbo Credits"]}],"\n",["$","li",null,{"children":"If using your own bundler or another service, you'll need the appropriate token (AR or other)"}],"\n",["$","li",null,{"children":"Without proper funding, checkpoints will fail to upload and your CU may not function correctly"}],"\n"]}]]}]]}],"\n",["$","p",null,{"children":"The simplest option for most users is to use:"}],"\n",["$","$L9",null,{"language":"txt","code":"UPLOADER_URL=https://up.arweave.net\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">UPLOADER_URL=https://up.arweave.net</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","p",null,{"children":"This requires your CU_WALLET to contain Turbo Credits."}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"Optional: Disable Checkpoint Creation"}],": If you want to disable checkpoint uploads, add:"]}],"\n",["$","$L9",null,{"language":"txt","code":"DISABLE_PROCESS_CHECKPOINT_CREATION=true\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">DISABLE_PROCESS_CHECKPOINT_CREATION=true</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n"]}],"\n"]}],"\n",["$","h3",null,{"children":"Example of a Completed .env.ao File"}],"\n",["$","p",null,{"language":"txt","children":["Here's an example of what your completed ",["$","$La",null,{"children":".env.ao"}]," file might look like with common settings:"]}],"\n",["$","$L9",null,{"language":"txt","code":"CU_WALLET='{\"kty\":\"RSA\",\"e\":\"AQAB\",\"n\":\"mYM07...\"}'\nPROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY\nGATEWAY_URL=https://arweave.net\nUPLOADER_URL=https://up.arweave.net\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">CU_WALLET=&#39;{&quot;kty&quot;:&quot;RSA&quot;,&quot;e&quot;:&quot;AQAB&quot;,&quot;n&quot;:&quot;mYM07...&quot;}&#39;</span></span>\n<span><span style=\"color: undefined\">PROCESS_CHECKPOINT_TRUSTED_OWNERS=fcoN_xJeisVsPXA-trzVAuIiqO3ydLQxM-L4XbrQKzY</span></span>\n<span><span style=\"color: undefined\">GATEWAY_URL=https://arweave.net</span></span>\n<span><span style=\"color: undefined\">UPLOADER_URL=https://up.arweave.net</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","p",null,{"children":"After making your changes, save and exit the nano editor:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"language":"txt","children":["Press ",["$","$La",null,{"children":"Ctrl+X"}]," to exit"]}],"\n",["$","li",null,{"language":"txt","children":["Press ",["$","$La",null,{"children":"Y"}]," to confirm saving changes"]}],"\n",["$","li",null,{"language":"txt","children":["Press ",["$","$La",null,{"children":"Enter"}]," to confirm the filename"]}],"\n"]}],"\n",["$","h3",null,{"children":"Optional Resource Allocation Settings"}],"\n",["$","p",null,{"children":"You can fine-tune the CU's resource usage by adding these optional environment variables:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"PROCESS_WASM_MEMORY_MAX_LIMIT"}],": Sets the maximum memory limit (in bytes) for WASM processes."]}],"\n",["$","$L9",null,{"language":"txt","code":"PROCESS_WASM_MEMORY_MAX_LIMIT=17179869184  # 16GB (16 * 1024^3)\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">PROCESS_WASM_MEMORY_MAX_LIMIT=17179869184  # 16GB (16 * 1024^3)</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","div",null,{"className":"border-l-4 border-orange-500 bg-gray-800 text-white p-4 rounded-md","children":[["$","div",null,{"className":"font-semibold text-lg text-orange-300 mb-2","children":"Important Memory Requirement"}],["$","div",null,{"className":"text-sm","children":[["$","p",null,{"language":"txt","children":["To work with the AR.IO process, ",["$","$La",null,{"children":"PROCESS_WASM_MEMORY_MAX_LIMIT"}]," must be at least ",["$","$La",null,{"children":"17179869184"}]," (16GB)."]}],["$","p",null,{"children":"Note: This doesn't mean your server needs 16GB of RAM. This is the maximum memory limit the CU will support for processes. Most processes don't use their maximum allocated memory."}],["$","p",null,{"children":"You can set this value to 16GB even if your server only has 4GB of RAM. However, if a process requires more memory than your server has available, the CU will fail when evaluating messages that need more memory."}]]}]]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"WASM_EVALUATION_MAX_WORKERS"}],": Sets the maximum number of worker threads for WASM evaluation."]}],"\n",["$","$L9",null,{"language":"txt","code":"WASM_EVALUATION_MAX_WORKERS=4  # Example: Use 4 worker threads\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">WASM_EVALUATION_MAX_WORKERS=4  # Example: Use 4 worker threads</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","div",null,{"className":"border-l-4 border-orange-500 bg-gray-800 text-white p-4 rounded-md","children":[["$","div",null,{"className":"font-semibold text-lg text-orange-300 mb-2","children":"Worker Thread Configuration"}],["$","div",null,{"className":"text-sm","children":["$","p",null,{"children":"This will default to (available CPUs - 1) if not specified. If you're running a gateway and unbundling on the same server, consider setting this to 2 or less to avoid overloading your CPU."}]}]]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"PROCESS_WASM_COMPUTE_MAX_LIMIT"}],": The maximum Compute-Limit, in bytes, supported for ao processes (defaults to 9 billion)"]}],"\n",["$","$L9",null,{"language":"txt","code":"PROCESS_WASM_COMPUTE_MAX_LIMIT=9000000000\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">PROCESS_WASM_COMPUTE_MAX_LIMIT=9000000000</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"NODE_OPTIONS"}],": Sets Node.js memory allocation for the Docker container."]}],"\n",["$","$L9",null,{"language":"txt","code":"NODE_OPTIONS=--max-old-space-size=8192  # Example: 8GB for Node.js heap\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">NODE_OPTIONS=--max-old-space-size=8192  # Example: 8GB for Node.js heap</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n"]}],"\n"]}],"\n",["$","div",null,{"className":"border-l-4 border-orange-500 bg-gray-800 text-white p-4 rounded-md","children":[["$","div",null,{"className":"font-semibold text-lg text-orange-300 mb-2","children":"Resource Tuning"}],["$","div",null,{"className":"text-sm","children":["$","p",null,{"children":"Start with conservative values and monitor performance. You can adjust these settings based on your system's capabilities and the CU's performance."}]}]]}],"\n",["$","h3",null,{"children":"Step 3: Start the CU Container"}],"\n",["$","p",null,{"children":"Once your environment file is configured, start the CU container:"}],"\n",["$","$L9",null,{"language":"bash","code":"docker compose --env-file .env.ao -f docker-compose.ao.yaml up -d\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">docker</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">compose</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--env-file</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env.ao</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-f</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">docker-compose.ao.yaml</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">up</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-d</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"This command uses the following flags:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"language":"txt","children":[["$","$La",null,{"children":"--env-file .env.ao"}],": Specifies the environment file to use"]}],"\n",["$","li",null,{"language":"txt","children":[["$","$La",null,{"children":"-f docker-compose.ao.yaml"}],": Specifies the Docker Compose file to use"]}],"\n",["$","li",null,{"language":"txt","children":[["$","$La",null,{"children":"up"}],": Creates and starts the containers"]}],"\n",["$","li",null,{"language":"txt","children":[["$","$La",null,{"children":"-d"}],": Runs containers in detached mode (background)"]}],"\n"]}],"\n",["$","h3",null,{"children":"Step 4: Check the Logs"}],"\n",["$","p",null,{"children":"To check the logs of your CU container:"}],"\n",["$","$L9",null,{"language":"bash","code":"docker compose -f docker-compose.ao.yaml logs -f --tail=20\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">docker</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">compose</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-f</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">docker-compose.ao.yaml</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">logs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-f</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--tail=20</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"This command uses the following flags:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"language":"txt","children":[["$","$La",null,{"children":"-f"}],": Follows the log output (continuous display)"]}],"\n",["$","li",null,{"language":"txt","children":[["$","$La",null,{"children":"--tail=20"}],": Shows only the last 20 lines of logs"]}],"\n"]}],"\n",["$","p",null,{"language":"txt","children":["Exit the logs by pressing ",["$","$La",null,{"children":"Ctrl+C"}],"."]}],"\n",["$","$L7",null,{"level":2,"id":"connecting-your-gateway-to-the-cu","children":"Connecting Your Gateway to the CU"}],"\n",["$","p",null,{"children":"To make your gateway use your local CU:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"language":"txt","children":["Add the following line to your gateway's ",["$","$La",null,{"children":".env"}]," file:"]}],"\n",["$","$L9",null,{"language":"txt","code":"AO_CU_URL=http://ao-cu:6363\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">AO_CU_URL=http://ao-cu:6363</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","p",null,{"children":"This assumes the CU is running on the same machine as the gateway."}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":"Restart your gateway:"}],"\n",["$","$L9",null,{"language":"bash","code":"docker compose down\ndocker compose up -d\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">docker</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">compose</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">down</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">docker</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">compose</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">up</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-d</span></span>\n<span></span>"}]}],"\n"]}],"\n"]}],"\n",["$","div",null,{"className":"my-6 flex gap-2.5 rounded-2xl border border-emerald-500/20 bg-emerald-50/50 p-4 leading-6 text-emerald-900 dark:border-emerald-500/30 dark:bg-emerald-500/5 dark:text-emerald-200 dark:[--tw-prose-links-hover:theme(colors.emerald.300)] dark:[--tw-prose-links:theme(colors.white)]","children":[["$","svg",null,{"viewBox":"0 0 16 16","aria-hidden":"true","className":"mt-1 h-4 w-4 flex-none fill-emerald-500 stroke-white dark:fill-emerald-200/20 dark:stroke-emerald-200","children":[["$","circle",null,{"cx":"8","cy":"8","r":"8","strokeWidth":"0"}],["$","path",null,{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"1.5","d":"M6.75 7.75h1.5v3.5"}],["$","circle",null,{"cx":"8","cy":"4","r":".5","fill":"none"}]]}],["$","div",null,{"className":"[&>:first-child]:mt-0 [&>:last-child]:mb-0","children":["$","p",null,{"children":"A CU won't do anything until requests are being made of it. By connecting your gateway to the CU, you'll start generating these requests."}]}]]}],"\n",["$","h3",null,{"children":"Accessing Your CU"}],"\n",["$","p",null,{"children":"Once properly set up and connected to your gateway, you can access your CU via:"}],"\n",["$","$L9",null,{"language":"txt","code":"https://<your-gateway-domain>/ao/cu\n","children":["$","$La",null,{"children":"<span><span style=\"color: undefined\">https://&lt;your-gateway-domain&gt;/ao/cu</span></span>\n<span><span style=\"color: undefined\"></span></span>"}]}],"\n",["$","p",null,{"children":"This endpoint allows you to interact with your CU directly through your gateway's domain."}],"\n",["$","$L7",null,{"level":2,"id":"important-notes","children":"Important Notes"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"Initial Processing Time"}],": A CU will need to process AO history before it can give valid responses. This process can take several hours."]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"Gateway Fallback"}],": A gateway on release 27 or above will fallback to arweave.net if its default CU is not responding quickly enough, so gateway operations will not be significantly impacted during the initial processing."]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"Monitoring Progress"}],": Check the CU logs after pointing a gateway at it to watch the process of working through AO history:"]}],"\n",["$","$L9",null,{"language":"bash","code":"docker compose -f docker-compose.ao.yaml logs -f --tail=20\n","children":["$","$La",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">docker</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">compose</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-f</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">docker-compose.ao.yaml</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">logs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-f</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--tail=20</span></span>\n<span></span>"}]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"Resource Usage"}],": Running a CU is resource-intensive. Monitor your system's performance to ensure it can handle both the gateway and CU workloads."]}],"\n"]}],"\n"]}]]}],["$","footer",null,{"className":"mx-auto mt-16 w-full max-w-2xl lg:max-w-5xl","children":["$","$Lb",null,{}]}]]}],null,["$","$Lc",null,{"children":["$Ld","$Le",["$","$Lf",null,{"promise":"$@10"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","UqqKBlIGoMDDRmRxkBCOhv",{"children":[["$","$L11",null,{"children":"$L12"}],null]}],["$","$L13",null,{"children":"$L14"}]]}],false]],"m":"$undefined","G":["$15","$undefined"],"s":false,"S":true}
16:"$Sreact.suspense"
17:I[74911,[],"AsyncMetadata"]
14:["$","div",null,{"hidden":true,"children":["$","$16",null,{"fallback":null,"children":["$","$L17",null,{"promise":"$@18"}]}]}]
e:null
12:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:null
10:{"metadata":[["$","title","0",{"children":"AO Compute Unit (CU) - AR.IO Docs"}],["$","meta","1",{"name":"description","content":"Steps for deploying an AO Compute Unit (CU) sidecar alongside your AR.IO Gateway."}],["$","meta","2",{"property":"og:title","content":"AO Compute Unit (CU)"}],["$","meta","3",{"property":"og:description","content":"Steps for deploying an AO Compute Unit (CU) sidecar alongside your AR.IO Gateway."}],["$","meta","4",{"name":"twitter:card","content":"summary"}],["$","meta","5",{"name":"twitter:title","content":"AO Compute Unit (CU)"}],["$","meta","6",{"name":"twitter:description","content":"Steps for deploying an AO Compute Unit (CU) sidecar alongside your AR.IO Gateway."}],["$","link","7",{"rel":"icon","href":"/docs-v2/favicon.ico","type":"image/x-icon","sizes":"16x16"}]],"error":null,"digest":"$undefined"}
18:{"metadata":"$10:metadata","error":null,"digest":"$undefined"}
